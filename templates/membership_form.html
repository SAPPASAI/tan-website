{% extends "index.html" %}
{% block hed %}
<section>
     <div class="breadcrumbs-custom context-dark titlesecc  bg-success text-center">
          <div class="container">
               <h2 class="breadcrumbs-custom-title text-white p-4 fs-1">Membership Form</h2>
          </div>
          <div class="box-position"></div>
     </div>
</section>

{% endblock hed %}


{% block content %}
<link rel="stylesheet" href="static/membership_form.css">
<section class="membership-form-section py-5 position-relative">
     <div class="container position-relative z-index-1">
          <!-- Section Header -->
          <div class="text-center mb-5 wow fadeInDown" data-wow-delay="0.1s">
               <span class="section-subtitle text-uppercase text-success">Become Part of Our Family</span>
               <h2 class="section-title fw-bold mt-2">Join Our Community</h2>
               <div class="divider mx-auto my-3"
                    style="height: 3px; width: 80px; background: linear-gradient(to right, #198754, #20c997);"></div>
               <p class="section-description text-muted mx-auto" style="max-width: 700px;">
                    Fill out the form to become a member of the Telugu Association of Nigeria and connect with our
                    vibrant community
               </p>
          </div>

          <!-- Form Container -->
          <div class="row justify-content-center wow fadeInUp" data-wow-delay="0.2s">
               <div class="col-lg-10">

                    {% if success %}
                    <div class="alert alert-success text-center" role="alert">
                         Thank you {{ name }} for joining our community!
                    </div>
                    {% endif %}


                    <form method="POST" action="/membership-form"
                         class="membership-form shadow-lg rounded-4 overflow-hidden">
                         <div class="row g-4 p-4 p-lg-5">
                              <!-- Name -->
                              <div class="col-md-6 form-group">
                                   <label for="fullName" class="form-label">Full Name <span
                                             class="text-danger">*</span></label>
                                   <div class="input-group">
                                        <span class="input-group-text bg-success bg-opacity-10 text-light">
                                             <i class="fas fa-user"></i>
                                        </span>
                                        <input type="text" class="form-control" id="fullName" name="full_name" required
                                             value="{{ request.form.full_name if not success else '' }}">

                                   </div>
                              </div>

                              <!-- Email -->
                              <div class="col-md-6 form-group">
                                   <label for="email" class="form-label">Email Address <span
                                             class="text-danger">*</span></label>
                                   <div class="input-group">
                                        <span class="input-group-text bg-success bg-opacity-10 text-light">
                                             <i class="fas fa-envelope"></i>
                                        </span>
                                        <input type="email" class="form-control" id="email" name="email" required
                                             value="{{ request.form.email if not success else '' }}">

                                   </div>
                              </div>

                              <!-- Phone -->
                              <div class="col-md-6 form-group">
                                   <label for="phone" class="form-label">Phone Number <span
                                             class="text-danger">*</span></label>
                                   <div class="input-group">
                                        <span class="input-group-text bg-success bg-opacity-10 text-light">
                                             <i class="fas fa-phone"></i>
                                        </span>
                                        <input type="tel" class="form-control" id="phone" name="phone" required
                                             value="{{ request.form.phone if not success else '' }}">
                                   </div>
                              </div>

                              <!-- Address -->
                              <div class="col-md-6 form-group">
                                   <label for="address" class="form-label">Address</label>
                                   <div class="input-group">
                                        <span class="input-group-text bg-success bg-opacity-10 text-light">
                                             <i class="fas fa-map-marker-alt"></i>
                                        </span>
                                        <input type="text" class="form-control" id="address" name="address"
                                             value="{{ request.form.address if not success else '' }}">
                                   </div>
                              </div>

                              <!-- Gender -->
                              <!-- Gender -->
                              <div class="col-md-6 form-group">
                                   <label for="gender" class="form-label">Gender</label>
                                   <div class="input-group">
                                        <span class="input-group-text bg-success bg-opacity-10 text-light">
                                             <i class="fas fa-venus-mars"></i>
                                        </span>
                                        <select id="gender" class="form-select" name="gender" required>
                                             <option disabled
                                                  {% if not request.form.get('gender') or success %}selected{% endif %}>
                                                  Choose...</option>
                                             <option
                                                  {% if request.form.get('gender') == 'Male' and not success %}selected{% endif %}>
                                                  Male</option>
                                             <option
                                                  {% if request.form.get('gender') == 'Female' and not success %}selected{% endif %}>
                                                  Female</option>
                                             <option
                                                  {% if request.form.get('gender') == 'Other' and not success %}selected{% endif %}>
                                                  Other</option>
                                             <option
                                                  {% if request.form.get('gender') == 'Prefer not to say' and not success %}selected{% endif %}>
                                                  Prefer not to say</option>
                                        </select>
                                   </div>
                              </div>

                              <!-- Membership Type -->
                              <div class="col-md-6 form-group">
                                   <label for="membershipType" class="form-label">Membership Type <span
                                             class="text-danger">*</span></label>
                                   <div class="input-group">
                                        <span class="input-group-text bg-success bg-opacity-10 text-light">
                                             <i class="fas fa-id-card"></i>
                                        </span>
                                        <select id="membershipType" class="form-select" name="membership_type" required>
                                             <option disabled
                                                  {% if not request.form.get('membership_type') or success %}selected{% endif %}>
                                                  Choose...</option>
                                             <option
                                                  {% if request.form.get('membership_type') == 'General Member (₦5,000/year)' and not success %}selected{% endif %}>
                                                  General Member (₦5,000/year)</option>
                                             <option
                                                  {% if request.form.get('membership_type') == 'Life Member (₦50,000 one-time)' and not success %}selected{% endif %}>
                                                  Life Member (₦50,000 one-time)</option>
                                             <option
                                                  {% if request.form.get('membership_type') == 'Student Member (₦2,500/year)' and not success %}selected{% endif %}>
                                                  Student Member (₦2,500/year)</option>
                                             <option
                                                  {% if request.form.get('membership_type') == 'Family Membership (₦10,000/year)' and not success %}selected{% endif %}>
                                                  Family Membership (₦10,000/year)</option>
                                        </select>
                                   </div>
                              </div>

                              <!-- Message -->
                              <div class="col-12 form-group">
                                   <label for="message" class="form-label">Tell us about yourself</label>
                                   <div class="input-group">
                                        <span
                                             class="input-group-text bg-success bg-opacity-10 text-light align-items-start pt-3">
                                             <i class="fas fa-comment-dots"></i>
                                        </span>
                                        <textarea class="form-control" id="message" name="message" rows="4"
                                             placeholder="Why do you want to join our community?">{% if not success %}{{ request.form.get('message', '') }}{% endif %}</textarea>
                                   </div>
                              </div>

                              <!-- Submit Button -->
                              <div class="col-12 text-center mt-4">
                                   <button type="submit"
                                        class="btn btn-success btn-lg px-5 py-3 rounded-pill submit-btn">
                                        <span class="submit-text">Submit Application</span>
                                        <span class="spinner-border spinner-border-sm ms-2 d-none" role="status"
                                             aria-hidden="true"></span>
                                   </button>
                              </div>
                         </div>
                    </form>
               </div>
          </div>
     </div>

     <!-- Background Elements -->
     <div class="position-absolute top-0 start-0 w-100 h-100 bg-light z-index-0" style="opacity: 0.3;"></div>

</section>

<!-- JavaScript Libraries -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.min.js"></script>
<script>
     new WOW().init();

     // Form submission animation
     document.querySelector('.membership-form').addEventListener('submit', function (e) {
          const submitBtn = this.querySelector('.submit-btn');
          const spinner = submitBtn.querySelector('.spinner-border');
          const submitText = submitBtn.querySelector('.submit-text');

          submitBtn.disabled = true;
          submitText.textContent = 'Processing...';
          spinner.classList.remove('d-none');

     });

     // Input focus effects
     document.querySelectorAll('.form-control, .form-select').forEach(input => {
          input.addEventListener('focus', function () {
               this.parentElement.querySelector('.input-group-text').style.transform = 'scale(1.1)';
          });

          input.addEventListener('blur', function () {
               this.parentElement.querySelector('.input-group-text').style.transform = 'scale(1)';
          });
     });
</script>


{% endblock content %}